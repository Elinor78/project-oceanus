

function initialize() {
  var mapOptions = {
    zoom: 10,
    center: new google.maps.LatLng(26, -82),
    mapTypeId: google.maps.MapTypeId.TERRAIN
  };
if (typeof(Number.prototype.toRadians) === "undefined") {
  Number.prototype.toRadians = function() {
    return this * Math.PI / 180;
  }
}

var calculateSpeed = function(data){
  var time = getTime(data[0]) - getTime(data[data.length - 3]);
  var totalDistance = 0;
  var latiArr = [];
  var longArr = [];

  for(var i = 1; i < data.length; i += 3){
    latiArr.push(data[i]);
  }
  for(var i = 2; i < data.length; i += 3){
    longArr.push(data[i]);
  }
  for(var i = 0; i < latiArr.length - 1; i += 1){
    totalDistance += getDistance([latiArr[i], latiArr[i + 1]], [longArr[i], longArr[i +1]]);
  }
  //totalDistance in km; time in ms - convert to m/s
  totalDistance = totalDistance * 1000;
  time = time/1000;
  var speed = totalDistance/time;
  return speed.toExponential(4);

};

var getTime = function(dateString) {
  var str = dateString.split(" ");
  var dStr = str[0];
  var tStr = str[1];
  var dArr = dStr.split("/");
  var tArr = tStr.split(":");
  dArr.push(tArr[0]);
  dArr.push(tArr[1]); 
  var d = new Date(dArr[2], dArr[0] - 1, dArr[1], dArr[3], dArr[4], 0, 0);
  return d.getTime();
};
var getDistance = function(latArr, lonArr){
  var R = 6371; // km
  var φ1 = latArr[0] * Math.PI / 180;
  var φ2 = latArr[1] * Math.PI / 180;
  var Δφ = (latArr[1]-latArr[0]) * Math.PI / 180;
  var Δλ = (lonArr[1]-lonArr[0]) * Math.PI / 180;

  var a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +
        Math.cos(φ1) * Math.cos(φ2) *
        Math.sin(Δλ/2) * Math.sin(Δλ/2);
  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));

  var d = R * c;
  return d;
};
  var map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);
 var csv = "10/1/2014 13:03,26.22326,-82.04086,10/1/2014 12:53,26.22339,-82.04163,10/1/2014 12:43,26.22341,-82.04233,10/1/2014 12:33,26.22354,-82.04276,10/1/2014 12:24,26.22386,-82.04321,10/1/2014 12:13,26.22416,-82.04361,10/1/2014 12:03,26.22414,-82.04388,10/1/2014 11:53,26.22423,-82.04405,10/1/2014 11:44,26.22433,-82.04428,10/1/2014 11:34,26.22444,-82.04446,10/1/2014 11:24,26.22457,-82.04459,10/1/2014 11:14,26.22471,-82.04477,10/1/2014 11:04,26.22477,-82.04495,10/1/2014 10:54,26.22456,-82.04495,10/1/2014 10:44,26.22413,-82.04501,10/1/2014 10:34,26.22374,-82.04507,10/1/2014 10:24,26.22321,-82.04504,10/1/2014 10:14,26.22256,-82.04498,10/1/2014 10:04,26.22211,-82.04507,10/1/2014 9:54,26.22164,-82.04507,10/1/2014 9:44,26.22116,-82.04507,10/1/2014 9:34,26.22073,-82.04507,10/1/2014 9:25,26.22031,-82.04517,10/1/2014 9:14,26.2199,-82.04523,10/1/2014 9:04,26.21952,-82.04532,10/1/2014 8:54,26.219,-82.04541,10/1/2014 8:44,26.21853,-82.0455,10/1/2014 8:34,26.21806,-82.04559,10/1/2014 8:25,26.2177,-82.04572,10/1/2014 8:14,26.21729,-82.04581,10/1/2014 8:04,26.21682,-82.04599,10/1/2014 7:54,26.21634,-82.04617,10/1/2014 7:44,26.21595,-82.04642,10/1/2014 7:34,26.21552,-82.04669,10/1/2014 7:25,26.21519,-82.047,10/1/2014 7:14,26.21462,-82.04721,10/1/2014 7:04,26.21398,-82.04745,10/1/2014 6:54,26.21331,-82.04776,10/1/2014 6:44,26.21271,-82.0481,10/1/2014 6:34,26.21219,-82.04849,10/1/2014 6:25,26.21183,-82.04886,10/1/2014 6:14,26.21148,-82.04929,10/1/2014 6:04,26.21096,-82.04968,10/1/2014 5:55,26.21047,-82.05005,10/1/2014 5:44,26.21003,-82.05051,10/1/2014 5:34,26.20963,-82.05099,10/1/2014 5:24,26.20924,-82.05141,10/1/2014 5:14,26.20865,-82.0517,10/1/2014 5:04,26.20814,-82.05195,10/1/2014 4:54,26.2075,-82.05237,10/1/2014 4:44,26.20724,-82.0528,10/1/2014 4:34,26.20683,-82.05374,10/1/2014 4:25,26.20649,-82.05481,10/1/2014 4:14,26.20614,-82.05594,10/1/2014 4:04,26.2058,-82.05706,10/1/2014 3:54,26.20551,-82.05813,10/1/2014 3:44,26.20526,-82.05916,10/1/2014 3:34,26.205,-82.06021,10/1/2014 3:25,26.20483,-82.06125,10/1/2014 3:14,26.2046,-82.0625,10/1/2014 3:04,26.20434,-82.06362,10/1/2014 2:55,26.20408,-82.06476,10/1/2014 2:45,26.20383,-82.06595,10/1/2014 2:35,26.20361,-82.06711,10/1/2014 2:25,26.20337,-82.06818,10/1/2014 1:41,26.20247,-82.07315,10/1/2014 1:31,26.20226,-82.07419,10/1/2014 1:22,26.20214,-82.07516,10/1/2014 1:11,26.20191,-82.07623,10/1/2014 1:01,26.20174,-82.07717,10/1/2014 0:51,26.20156,-82.07813,10/1/2014 0:41,26.20132,-82.07898,10/1/2014 0:31,26.20106,-82.07975,10/1/2014 0:22,26.20087,-82.08047,10/1/2014 0:11,26.20063,-82.08123,10/1/2014 0:01,26.20041,-82.0819,9/30/2014 23:51,26.20019,-82.08243,9/30/2014 23:41,26.19998,-82.08292,9/30/2014 23:31,26.19979,-82.08334,9/30/2014 23:21,26.19962,-82.08368,9/30/2014 23:11,26.19942,-82.08401,9/30/2014 23:02,26.19914,-82.08432,9/30/2014 22:51,26.19885,-82.08468,9/30/2014 22:41,26.19864,-82.08499,9/30/2014 22:31,26.19838,-82.0853,9/30/2014 22:22,26.1982,-82.08548,9/30/2014 22:11,26.19803,-82.08578,9/30/2014 22:01,26.19794,-82.08611,9/30/2014 21:51,26.1979,-82.08638,9/30/2014 21:22,26.19753,-82.08728,9/30/2014 21:12,26.19736,-82.08745,9/30/2014 21:02,26.19722,-82.08768,9/30/2014 20:52,26.19718,-82.08794,9/30/2014 20:42,26.19701,-82.08837,9/30/2014 20:32,26.19689,-82.08893,9/30/2014 20:12,26.19685,-82.09003,9/30/2014 20:02,26.19685,-82.09067,9/30/2014 19:52,26.19696,-82.09125,9/30/2014 19:42,26.19699,-82.09183,9/30/2014 19:32,26.19707,-82.09247,9/30/2014 19:22,26.19709,-82.0932,9/30/2014 19:12,26.19703,-82.09399,9/30/2014 19:02,26.19714,-82.09491,9/30/2014 18:52,26.19714,-82.09577,9/30/2014 18:42,26.19708,-82.09686,9/30/2014 18:32,26.197,-82.09796,9/30/2014 18:22,26.19687,-82.09912,9/30/2014 18:12,26.19676,-82.10043,9/30/2014 18:02,26.19663,-82.10175,9/30/2014 17:52,26.19649,-82.10312,9/30/2014 17:42,26.19632,-82.10468,9/30/2014 17:32,26.19625,-82.10632,9/30/2014 17:22,26.19625,-82.10794,9/30/2014 17:12,26.19637,-82.10974,9/30/2014 17:02,26.19637,-82.11136,9/30/2014 16:52,26.19638,-82.1131,9/30/2014 16:42,26.19642,-82.11472,9/30/2014 16:32,26.19649,-82.11646,9/30/2014 16:22,26.19654,-82.11798,9/30/2014 16:12,26.1965,-82.11944,9/30/2014 16:02,26.19693,-82.12124,9/30/2014 15:52,26.19675,-82.12335,9/30/2014 15:42,26.1967,-82.12533,9/30/2014 15:32,26.19661,-82.12739,9/30/2014 15:22,26.19664,-82.12933,9/30/2014 15:12,26.19662,-82.1315,9/30/2014 15:02,26.19659,-82.13354,9/30/2014 14:52,26.19654,-82.13562,9/30/2014 14:42,26.19651,-82.13757,9/30/2014 14:32,26.19642,-82.13947,9/30/2014 14:22,26.19625,-82.14118,9/30/2014 14:12,26.19599,-82.14322,9/30/2014 14:02,26.19574,-82.14499,9/30/2014 13:52,26.19548,-82.14662,9/30/2014 13:42,26.19517,-82.14828,9/30/2014 13:32,26.19491,-82.14987,9/30/2014 13:22,26.19465,-82.15141,9/30/2014 13:12,26.19441,-82.15308,9/30/2014 13:02,26.19414,-82.15457,9/30/2014 12:52,26.1939,-82.15598,9/30/2014 12:42,26.19374,-82.15732,9/30/2014 12:32,26.1936,-82.1586,9/30/2014 12:23,26.19348,-82.1597,9/30/2014 12:13,26.19335,-82.1609,9/30/2014 12:02,26.19316,-82.16193,9/30/2014 11:52,26.19296,-82.1628,9/30/2014 11:42,26.19275,-82.1636,9/30/2014 11:32,26.19253,-82.16434,9/30/2014 11:23,26.19236,-82.16495,9/30/2014 11:12,26.19223,-82.16549,9/30/2014 11:02,26.19213,-82.16589,9/30/2014 10:52,26.19193,-82.1662,9/30/2014 10:42,26.19176,-82.16637,9/30/2014 10:33,26.19162,-82.16652,9/30/2014 10:23,26.19152,-82.16663,9/30/2014 10:13,26.19141,-82.16663,9/30/2014 10:03,26.19123,-82.16663,9/30/2014 9:53,26.19094,-82.16647,9/30/2014 9:43,26.19067,-82.16625,9/30/2014 9:33,26.19052,-82.16598,9/30/2014 9:23,26.19039,-82.16582,9/30/2014 9:13,26.19025,-82.16558,9/30/2014 9:03,26.19012,-82.16534,9/30/2014 8:53,26.19001,-82.16513,9/30/2014 8:43,26.18999,-82.16495,9/30/2014 8:33,26.19005,-82.16479,9/30/2014 8:24,26.19011,-82.16467,9/30/2014 8:13,26.19009,-82.16455,9/30/2014 8:03,26.19005,-82.16443,9/30/2014 7:53,26.1899,-82.16431,9/30/2014 7:43,26.18986,-82.16425,9/30/2014 7:33,26.18982,-82.16428,9/30/2014 7:13,26.18994,-82.16495,9/30/2014 7:03,26.19015,-82.16546,9/30/2014 6:53,26.19033,-82.16598,9/30/2014 6:43,26.19033,-82.16642,9/30/2014 6:33,26.19041,-82.16705,9/30/2014 6:24,26.19044,-82.16754,9/30/2014 0:03,26.19279,-82.20441,9/29/2014 23:54,26.19323,-82.20535,9/29/2014 21:58,26.20158,-82.21219,9/29/2014 21:48,26.20205,-82.21296,9/29/2014 21:37,26.20235,-82.21396,9/29/2014 20:59,26.20205,-82.21695,9/29/2014 20:49,26.20184,-82.21768,9/29/2014 20:40,26.20161,-82.21838,9/29/2014 19:37,26.19999,-82.22476,9/29/2014 19:28,26.19955,-82.22592,9/29/2014 19:17,26.19906,-82.22769,9/29/2014 19:07,26.19835,-82.229,9/29/2014 18:57,26.19728,-82.2298,9/29/2014 18:47,26.19636,-82.2312,9/29/2014 18:37,26.1958,-82.23285,9/29/2014 18:28,26.19513,-82.23403,9/29/2014 18:18,26.19436,-82.2355,9/29/2014 18:08,26.19359,-82.23679,9/29/2014 17:57,26.19273,-82.23828,9/29/2014 17:47,26.19177,-82.23987,9/29/2014 17:12,26.18823,-82.24521,9/29/2014 17:02,26.18709,-82.24686,9/29/2014 16:52,26.18597,-82.2484,9/29/2014 16:42,26.18485,-82.25012,9/29/2014 16:32,26.18369,-82.25229,9/29/2014 16:23,26.18251,-82.25427,9/29/2014 16:12,26.1812,-82.25659,9/29/2014 16:02,26.17994,-82.25851,9/29/2014 15:52,26.17867,-82.26049,9/29/2014 15:42,26.17731,-82.26276,9/29/2014 15:32,26.17589,-82.26465,9/29/2014 15:22,26.17439,-82.26618,9/29/2014 15:02,26.17058,-82.26929,9/29/2014 14:52,26.16869,-82.27066,9/29/2014 14:42,26.16693,-82.27195,9/29/2014 14:32,26.16504,-82.27332,9/29/2014 14:23,26.16339,-82.27432,9/29/2014 14:13,26.16154,-82.27518,9/29/2014 14:02,26.15967,-82.27628,9/29/2014 13:52,26.15784,-82.27704,9/29/2014 13:43,26.15606,-82.27773,9/29/2014 13:33,26.15426,-82.27831,9/29/2014 13:23,26.15262,-82.27884,9/29/2014 13:13,26.15082,-82.27927,9/29/2014 13:03,26.14903,-82.27975,9/29/2014 12:53,26.14729,-82.28003,9/29/2014 12:43,26.14561,-82.28027,9/29/2014 12:33,26.14389,-82.28044,9/29/2014 12:23,26.1423,-82.28049,9/29/2014 12:13,26.14066,-82.2804,9/29/2014 12:03,26.13912,-82.28024,9/29/2014 11:53,26.13766,-82.28006,9/29/2014 11:43,26.1362,-82.27972,9/29/2014 11:33,26.13478,-82.2793,9/29/2014 11:23,26.13347,-82.2788,9/29/2014 11:13,26.1321,-82.27817,9/29/2014 11:03,26.1308,-82.27744,9/29/2014 10:53,26.12951,-82.27661,9/29/2014 10:43,26.12836,-82.27557,9/29/2014 10:33,26.12723,-82.27454,9/29/2014 10:23,26.1262,-82.27347,9/29/2014 10:13,26.12503,-82.27218,9/29/2014 10:03,26.12399,-82.27087,9/29/2014 9:53,26.12296,-82.2694,9/29/2014 9:43,26.12201,-82.26797,9/29/2014 9:33,26.12122,-82.26654,9/29/2014 9:23,26.12046,-82.26517,9/29/2014 8:52,26.11794,-82.26009,9/29/2014 8:42,26.1171,-82.25839,9/29/2014 8:32,26.11632,-82.25668,9/29/2014 8:23,26.11559,-82.2551,9/29/2014 8:12,26.11489,-82.25339,9/29/2014 8:02,26.11427,-82.25174,9/29/2014 7:52,26.11361,-82.25009,9/29/2014 7:42,26.11297,-82.24838,9/29/2014 7:32,26.11234,-82.24673,9/29/2014 7:23,26.11176,-82.24509,9/29/2014 7:12,26.11123,-82.24338,9/29/2014 7:02,26.11079,-82.24169,9/29/2014 6:52,26.11035,-82.24008,9/29/2014 6:42,26.11,-82.23842,9/29/2014 6:32,26.10968,-82.23685,9/29/2014 6:23,26.10947,-82.23541,9/29/2014 6:12,26.10934,-82.2337,9/29/2014 6:02,26.1093,-82.23215,9/29/2014 5:52,26.10935,-82.23068,9/29/2014 5:42,26.10949,-82.22931,9/29/2014 5:32,26.10961,-82.22803,9/29/2014 5:23,26.10976,-82.2269,9/29/2014 5:13,26.10999,-82.22565,9/29/2014 5:03,26.11032,-82.22452,9/29/2014 4:53,26.11073,-82.22345,9/29/2014 4:46,26.11102,-82.22287,9/29/2014 4:33,26.11151,-82.2218,9/29/2014 4:23,26.11187,-82.22119,9/29/2014 4:13,26.11225,-82.22064,9/29/2014 4:03,26.11258,-82.22011,9/29/2014 3:53,26.11288,-82.21966,9/29/2014 3:31,26.11366,-82.2189,9/29/2014 3:22,26.11405,-82.2186,9/29/2014 3:11,26.1145,-82.21832,9/29/2014 2:47,26.11545,-82.21799,9/29/2014 2:38,26.11588,-82.2179,9/29/2014 2:28,26.11631,-82.2179,9/29/2014 2:18,26.11677,-82.21796,9/29/2014 1:07,26.12031,-82.21948,9/29/2014 0:57,26.12081,-82.21984,9/29/2014 0:47,26.12123,-82.22018,9/28/2014 23:44,26.12243,-82.22229,9/28/2014 23:34,26.12246,-82.22253,9/28/2014 23:07,26.12247,-82.22324,9/28/2014 22:58,26.12231,-82.22336,9/28/2014 21:46,26.12063,-82.22308,9/28/2014 21:35,26.12031,-82.22266,9/28/2014 21:25,26.1201,-82.22214,9/28/2014 21:15,26.11996,-82.22159,9/28/2014 20:29,26.11879,-82.2186,9/28/2014 20:19,26.11838,-82.2178,9/28/2014 20:09,26.11808,-82.21711,9/28/2014 19:59,26.11761,-82.21642,9/28/2014 19:49,26.11722,-82.21563,9/28/2014 19:39,26.11688,-82.21495,9/28/2014 19:29,26.11649,-82.21426,9/28/2014 19:19,26.11615,-82.21353,9/28/2014 19:10,26.11594,-82.21277,9/28/2014 18:59,26.11566,-82.21187,9/28/2014 18:49,26.11543,-82.21109,9/28/2014 18:39,26.11508,-82.21044,9/28/2014 18:29,26.11457,-82.20977,9/28/2014 18:19,26.11354,-82.20944,9/28/2014 18:10,26.11256,-82.20923,9/28/2014 17:59,26.11147,-82.20905,9/28/2014 17:49,26.11037,-82.20886,9/28/2014 17:39,26.10921,-82.20877,9/28/2014 17:29,26.10805,-82.20877,9/28/2014 17:19,26.10693,-82.20877,9/28/2014 17:10,26.10585,-82.2088,9/28/2014 16:59,26.10468,-82.2088,9/28/2014 16:49,26.10355,-82.20889,9/28/2014 16:39,26.10236,-82.20911,9/28/2014 16:29,26.10117,-82.20941,9/28/2014 16:19,26.10003,-82.20972,9/28/2014 16:10,26.09908,-82.21008,9/28/2014 15:59,26.09804,-82.21051,9/28/2014 15:49,26.09708,-82.21088,9/28/2014 15:39,26.09613,-82.21124,9/28/2014 15:29,26.09518,-82.21158,9/28/2014 15:19,26.09428,-82.21204,9/28/2014 15:10,26.09353,-82.2124,9/28/2014 14:59,26.09271,-82.2128,9/28/2014 14:49,26.09188,-82.21323,9/28/2014 14:40,26.09112,-82.21378,9/28/2014 14:30,26.09042,-82.21432,9/28/2014 14:20,26.08974,-82.21484,9/28/2014 14:10,26.08908,-82.21536,9/28/2014 14:00,26.08842,-82.21579,9/28/2014 13:50,26.08782,-82.21616,9/28/2014 13:40,26.08724,-82.21643,9/28/2014 13:30,26.08666,-82.21674,9/28/2014 13:20,26.08607,-82.21695,9/28/2014 13:10,26.08559,-82.2171,9/28/2014 13:00,26.08511,-82.21719,9/28/2014 12:50,26.08473,-82.21722,9/28/2014 12:40,26.08434,-82.21735,9/28/2014 12:30,26.084,-82.21738,9/28/2014 12:20,26.08369,-82.21735,9/28/2014 12:10,26.08339,-82.21722,9/28/2014 12:00,26.08306,-82.2171,9/28/2014 11:50,26.08273,-82.21695,9/28/2014 11:40,26.08234,-82.21674,9/28/2014 11:30,26.08183,-82.21648,9/28/2014 11:20,26.08134,-82.21622,9/28/2014 11:11,26.08082,-82.21585,9/28/2014 11:00,26.08036,-82.21545,9/28/2014 10:50,26.08001,-82.215,9/28/2014 10:40,26.07967,-82.21449,9/28/2014 10:30,26.07932,-82.21387,9/28/2014 10:20,26.07904,-82.21317,9/28/2014 10:11,26.07878,-82.2124,9/28/2014 10:00,26.07851,-82.2114,9/28/2014 9:50,26.07828,-82.21048,9/28/2014 9:40,26.07802,-82.20947,9/28/2014 9:30,26.07784,-82.20834,9/28/2014 9:20,26.07772,-82.20708,9/28/2014 9:11,26.07763,-82.20583,9/28/2014 9:00,26.07737,-82.20438,9/28/2014 8:50,26.07727,-82.20287,9/28/2014 8:40,26.07718,-82.20132,9/28/2014 8:30,26.07704,-82.19955,9/28/2014 8:20,26.0769,-82.19768,9/28/2014 8:10,26.07681,-82.19597,9/28/2014 8:00,26.07681,-82.19391,9/28/2014 7:50,26.0767,-82.19199,9/28/2014 7:40,26.07656,-82.19,9/28/2014 7:30,26.07643,-82.18808,9/28/2014 7:20,26.07639,-82.18619,9/28/2014 7:11,26.0763,-82.18445,9/28/2014 7:01,26.07621,-82.1823,9/28/2014 6:51,26.07621,-82.1804,9/28/2014 6:32,26.07615,-82.17691,9/28/2014 6:20,26.07617,-82.17458,9/28/2014 6:12,26.07634,-82.17291,9/28/2014 5:50,26.07665,-82.16895,9/28/2014 5:40,26.07688,-82.16714,9/28/2014 5:30,26.07709,-82.16534,9/28/2014 5:20,26.07736,-82.1636,9/28/2014 5:12,26.07762,-82.16208,9/28/2014 5:01,26.07788,-82.16025,9/28/2014 4:51,26.07818,-82.15871,9/28/2014 4:41,26.07857,-82.15716,9/28/2014 4:21,26.07941,-82.15414,9/28/2014 4:11,26.07977,-82.15289,9/28/2014 4:01,26.08031,-82.15164,9/28/2014 3:51,26.08092,-82.15057,9/28/2014 3:41,26.08147,-82.14951,9/28/2014 3:31,26.08211,-82.14856,9/28/2014 3:21,26.08266,-82.14764,9/28/2014 3:11,26.08322,-82.14685,9/28/2014 3:01,26.08385,-82.14606,9/28/2014 2:51,26.08445,-82.14539,9/28/2014 2:41,26.08502,-82.14478,9/28/2014 2:31,26.08567,-82.14426,9/28/2014 2:21,26.08641,-82.14382,9/28/2014 2:12,26.08709,-82.14352,9/28/2014 2:01,26.08795,-82.14322,9/28/2014 1:51,26.08866,-82.14294,9/28/2014 1:41,26.08926,-82.14268,9/28/2014 1:31,26.08994,-82.14246,9/28/2014 1:21,26.09056,-82.1423,9/28/2014 0:58,26.09196,-82.14206,9/28/2014 0:48,26.09242,-82.142,9/28/2014 0:39,26.09289,-82.14206,9/28/2014 0:17,26.09398,-82.14236,9/28/2014 0:08,26.09441,-82.14243,9/27/2014 23:57,26.09485,-82.14261,9/27/2014 23:47,26.0952,-82.14285,9/27/2014 23:37,26.09545,-82.14306,9/27/2014 23:27,26.09558,-82.14333,9/27/2014 23:17,26.09569,-82.14364,9/27/2014 23:08,26.09574,-82.1438,9/27/2014 23:07,26.09573,-82.14382,9/27/2014 22:57,26.09578,-82.1438,9/27/2014 22:47,26.09588,-82.14373,9/27/2014 22:37,26.09598,-82.14355,9/27/2014 22:27,26.09591,-82.14315,9/27/2014 22:17,26.09582,-82.14276,9/27/2014 22:08,26.09569,-82.14233,9/27/2014 21:57,26.09546,-82.14169,9/27/2014 21:47,26.09531,-82.14102,9/27/2014 21:37,26.09503,-82.14026,9/27/2014 21:27,26.0942,-82.1395,9/27/2014 21:17,26.09328,-82.13889,9/27/2014 21:08,26.09241,-82.13834,9/27/2014 20:57,26.0914,-82.13773,9/27/2014 20:47,26.09028,-82.13708,9/27/2014 20:37,26.08902,-82.13672,9/27/2014 20:27,26.08782,-82.13657,9/27/2014 20:17,26.08661,-82.13634,9/27/2014 20:08,26.08532,-82.13608,9/27/2014 19:57,26.08342,-82.13544,9/27/2014 19:47,26.08147,-82.13431,9/27/2014 19:37,26.07981,-82.13272,9/27/2014 19:28,26.07874,-82.13088,9/27/2014 19:18,26.07804,-82.12927,9/27/2014 19:08,26.07779,-82.1279,9/27/2014 18:58,26.07762,-82.1264,9/27/2014 18:48,26.07755,-82.12503,9/27/2014 18:38,26.07748,-82.12363,9/27/2014 18:28,26.07735,-82.12222,9/27/2014 18:18,26.0773,-82.12076,9/27/2014 18:08,26.07739,-82.11938,9/27/2014 17:58,26.07759,-82.11776,9/27/2014 17:07,26.07824,-82.11221,9/27/2014 16:56,26.07852,-82.11133,9/27/2014 16:46,26.07882,-82.11063,9/27/2014 16:36,26.07909,-82.10988,9/27/2014 16:26,26.07945,-82.10916,9/27/2014 16:16,26.07991,-82.10849,9/27/2014 16:07,26.08055,-82.108,9/27/2014 15:56,26.08147,-82.10748,9/27/2014 15:46,26.08244,-82.10699,9/27/2014 15:36,26.08339,-82.10638,9/27/2014 15:26,26.08431,-82.10571,9/27/2014 15:16,26.0849,-82.10483,9/27/2014 15:06,26.08516,-82.10389,9/27/2014 14:56,26.08496,-82.10333,9/27/2014 14:25,26.08364,-82.10364,9/27/2014 14:15,26.08337,-82.10384,9/27/2014 14:06,26.08311,-82.10413,9/27/2014 13:55,26.08285,-82.10449,9/27/2014 13:46,26.08265,-82.10492,9/27/2014 13:36,26.08239,-82.10541,9/27/2014 13:26,26.08226,-82.10593,9/27/2014 13:16,26.0821,-82.10635,9/27/2014 13:06,26.08201,-82.10669,9/27/2014 12:56,26.08195,-82.10709,9/27/2014 12:46,26.08195,-82.10742,9/27/2014 12:36,26.08197,-82.10769,9/27/2014 12:26,26.08197,-82.10804,9/27/2014 12:16,26.08192,-82.10831,9/27/2014 12:06,26.08195,-82.1084,9/27/2014 11:56,26.08194,-82.10845,9/27/2014 11:46,26.08205,-82.10852,9/27/2014 11:36,26.08209,-82.10867,9/27/2014 11:26,26.08207,-82.1087,9/27/2014 11:16,26.08209,-82.1087,9/27/2014 11:06,26.08205,-82.10872,9/27/2014 10:56,26.08205,-82.10872,9/27/2014 10:46,26.08193,-82.10863,9/27/2014 10:36,26.08184,-82.10854,9/27/2014 10:26,26.08168,-82.10831,9/27/2014 10:16,26.08152,-82.10805,9/27/2014 10:06,26.08145,-82.10782,9/27/2014 9:56,26.08129,-82.10736,9/27/2014 9:46,26.08112,-82.10693,9/27/2014 9:36,26.08094,-82.10629,9/27/2014 9:26,26.08081,-82.10556,9/27/2014 9:16,26.08072,-82.10469,9/27/2014 9:07,26.08061,-82.10375,9/27/2014 8:56,26.08049,-82.10266,9/27/2014 8:46,26.08034,-82.10156,9/27/2014 8:36,26.08018,-82.10043,9/27/2014 8:26,26.07998,-82.09921,9/27/2014 8:16,26.07968,-82.09784,9/27/2014 8:07,26.07935,-82.09647,9/27/2014 7:56,26.07891,-82.09497,9/27/2014 7:46,26.07852,-82.09343,9/27/2014 7:36,26.07804,-82.09174,9/27/2014 7:26,26.07757,-82.08994,9/27/2014 7:16,26.07709,-82.08786,9/27/2014 7:07,26.07661,-82.086,9/27/2014 6:56,26.07614,-82.08395,9/27/2014 6:46,26.07577,-82.08206,9/27/2014 6:36,26.07547,-82.08014,9/27/2014 6:26,26.07527,-82.07825,9/27/2014 6:16,26.07495,-82.07629,9/27/2014 6:07,26.07477,-82.07428,9/27/2014 5:56,26.07467,-82.07201,9/27/2014 5:47,26.07459,-82.06995,9/27/2014 5:36,26.07458,-82.06762,9/27/2014 5:26,26.07471,-82.06543,9/27/2014 5:17,26.07486,-82.06319,9/27/2014 5:07,26.07499,-82.06131,9/27/2014 4:57,26.07536,-82.05902,9/27/2014 4:47,26.07581,-82.0571,9/27/2014 4:37,26.07614,-82.05533,9/27/2014 4:27,26.07665,-82.05343,9/27/2014 4:17,26.07705,-82.05164,9/27/2014 4:08,26.07748,-82.04998,9/27/2014 3:57,26.07811,-82.04794,9/27/2014 3:47,26.07857,-82.04613,9/27/2014 3:37,26.07914,-82.04452,9/27/2014 3:27,26.07964,-82.04309,9/27/2014 3:17,26.0801,-82.04165,9/27/2014 3:07,26.08057,-82.04046,9/27/2014 2:57,26.08105,-82.03925,9/27/2014 2:47,26.08149,-82.0383,9/27/2014 2:37,26.08196,-82.0374,9/27/2014 2:27,26.08239,-82.03668,9/27/2014 2:17,26.08283,-82.03601,9/27/2014 2:07,26.08324,-82.03546,9/27/2014 1:57,26.08379,-82.03488,9/27/2014 1:47,26.08433,-82.03445,9/27/2014 1:37,26.08499,-82.03406,9/27/2014 1:27,26.08561,-82.03366,9/27/2014 1:17,26.08621,-82.03333,9/27/2014 1:08,26.0867,-82.03308,9/27/2014 0:57,26.08734,-82.03274,9/27/2014 0:47,26.08789,-82.03252,9/27/2014 0:37,26.08845,-82.03234,9/27/2014 0:27,26.08889,-82.0321,9/27/2014 0:17,26.08931,-82.03192,9/27/2014 0:08,26.08974,-82.03176,9/26/2014 23:57,26.09016,-82.03162,9/26/2014 23:47,26.09067,-82.03149,9/26/2014 23:37,26.09111,-82.03137,9/26/2014 23:27,26.09154,-82.03125,9/26/2014 23:17,26.09197,-82.03113,9/26/2014 23:07,26.09239,-82.03104,9/26/2014 22:57,26.09281,-82.03098,9/26/2014 22:47,26.09316,-82.03085,9/26/2014 22:37,26.09342,-82.03061,9/26/2014 22:27,26.09367,-82.03033,9/26/2014 22:17,26.09389,-82.02997,9/26/2014 22:08,26.09411,-82.0296,9/26/2014 21:57,26.09429,-82.02914,9/26/2014 21:47,26.09441,-82.02858,9/26/2014 21:37,26.09441,-82.02798,9/26/2014 21:27,26.09444,-82.02744,9/26/2014 21:17,26.09446,-82.02679,9/26/2014 21:08,26.09447,-82.02609,9/26/2014 20:57,26.09426,-82.02512,9/26/2014 20:47,26.09402,-82.02417,9/26/2014 20:37,26.09371,-82.02321,9/26/2014 20:27,26.09341,-82.02222,9/26/2014 20:17,26.09307,-82.0211,9/26/2014 20:08,26.09268,-82.01984,9/26/2014 19:57,26.09226,-82.0184,9/26/2014 19:47,26.09185,-82.01691,9/26/2014 19:37,26.09138,-82.01537,9/26/2014 19:27,26.09085,-82.01376,9/26/2014 19:17,26.09033,-82.01212,9/26/2014 19:08,26.08973,-82.01058,9/26/2014 18:57,26.08908,-82.00879,9/26/2014 18:47,26.08862,-82.00693,9/26/2014 18:37,26.0881,-82.00503,9/26/2014 18:27,26.08753,-82.0032,9/26/2014 18:17,26.08683,-82.00158,9/26/2014 18:08,26.08617,-82.00012,9/26/2014 17:57,26.08538,-81.99838,9/26/2014 17:47,26.08467,-81.99666,9/26/2014 17:37,26.08398,-81.99506,9/26/2014 17:27,26.08329,-81.99326,9/26/2014 17:18,26.08264,-81.99146,9/26/2014 17:08,26.08195,-81.98949,9/26/2014 16:57,26.08119,-81.98752,9/26/2014 16:47,26.08042,-81.98605,9/26/2014 16:37,26.07936,-81.98535,9/26/2014 16:28,26.0784,-81.98492,9/26/2014 16:18,26.0775,-81.98457,9/26/2014 16:08,26.07662,-81.98447,9/26/2014 15:58,26.07569,-81.98444,9/26/2014 15:48,26.07489,-81.98447,9/26/2014 15:38,26.07415,-81.98462,9/26/2014 15:28,26.07355,-81.98471,9/26/2014 15:18,26.07309,-81.9848,9/26/2014 15:08,26.07261,-81.98508,9/26/2014 14:58,26.07206,-81.9852,9/26/2014 14:48,26.07169,-81.98532,9/26/2014 14:38,26.07134,-81.98547,9/26/2014 14:28,26.07097,-81.98575,9/26/2014 14:18,26.07057,-81.98587,9/26/2014 14:08,26.07011,-81.98602,9/26/2014 13:58,26.06956,-81.9863,9/26/2014 13:48,26.06915,-81.98663,9/26/2014 13:38,26.06897,-81.98699,9/26/2014 13:28,26.06889,-81.9873,9/26/2014 13:18,26.06894,-81.98779,9/26/2014 13:08,26.06905,-81.98822,9/26/2014 12:58,26.06928,-81.98871,9/26/2014 12:48,26.06955,-81.98914,9/26/2014 12:38,26.0698,-81.9895,9/26/2014 12:28,26.07,-81.98987,9/26/2014 12:18,26.07026,-81.99012,9/26/2014 12:09,26.07057,-81.99045,9/26/2014 11:58,26.07095,-81.99078,9/26/2014 11:48,26.07129,-81.99109,9/26/2014 11:38,26.0716,-81.99136,9/26/2014 11:28,26.07193,-81.99158,9/26/2014 11:18,26.07217,-81.99173,9/26/2014 11:09,26.07239,-81.99185,9/26/2014 10:58,26.0726,-81.992,9/26/2014 10:48,26.07271,-81.99207,9/26/2014 10:38,26.0728,-81.99216,9/26/2014 10:28,26.07283,-81.99216,9/26/2014 10:18,26.07278,-81.99209,9/26/2014 10:09,26.07271,-81.99194,9/26/2014 9:58,26.07265,-81.99187,9/26/2014 9:48,26.0726,-81.99176,9/26/2014 9:38,26.07247,-81.99155,9/26/2014 9:28,26.07238,-81.99129,9/26/2014 9:18,26.07215,-81.99081,9/26/2014 9:09,26.07196,-81.99042,9/26/2014 8:58,26.07179,-81.98993,9/26/2014 8:48,26.07218,-81.99036,9/26/2014 8:38,26.08621,-81.94556,9/26/2014 8:28,26.08815,-81.89127,9/26/2014 8:18,26.08854,-81.83669,9/26/2014 8:09,26.09491,-81.79803,9/26/2014 7:59,26.1265,-81.79091,9/26/2014 7:52,26.13763,-81.79001,9/26/2014 7:39,26.14122,-81.79025,9/26/2014 7:17,26.14115,-81.79019,9/26/2014 7:08,26.14115,-81.79013,9/25/2014 13:10,26.14111,-81.79086,9/24/2014 10:34,26.14111,-81.79013,9/24/2014 10:24,26.1215,-81.76094,9/24/2014 10:15,26.05463,-81.69958,9/24/2014 10:05,25.99592,-81.69777,9/24/2014 9:19,25.99575,-81.69901,9/24/2014 9:13,25.99567,-81.69879,9/23/2014 18:35,25.99583,-81.69849,9/23/2014 16:03,25.99577,-81.69916,9/23/2014 15:53,25.99584,-81.69888,9/23/2014 15:16,25.99583,-81.6991,9/23/2014 10:24,25.99575,-81.69879,9/23/2014 10:14,25.99582,-81.69888";
var coordinates = [];
var data = $.csv.toArray(csv);
console.log(data.length);
for (var i = 1; i < data.length; i += 3){
  coordinates.push(new google.maps.LatLng(parseFloat(data[i]), parseFloat(data[i + 1])));
}
var marker = [];
var info_window = new google.maps.InfoWindow({content: ''});
function add_marker(point, note) {
    var marker = new google.maps.Marker({map: map, position: point, clickable: true});
    marker.note = note;
    google.maps.event.addListener(marker, 'click', function() {
        info_window.content = marker.note;
        info_window.open(map, marker);
    });
    return marker;
}
for (var i = 0; i < data.length; i += 90){
    var p = new google.maps.LatLng(parseFloat(data[i + 1]), parseFloat(data[i + 2]));
    var str = '<div><p>Date: ' + data[i] + '</p><p>Speed: ' + calculateSpeed(data.slice(i, i+90)) + ' m/s</p></div>';
    marker[i] = add_marker(p, str);
  }
  console.log();


  var flightPath = new google.maps.Polyline({
    path: coordinates,
    geodesic: true,
    strokeColor: '#333333',
    strokeOpacity: 1.0,
    strokeWeight: 4
  });

  flightPath.setMap(map);
}

google.maps.event.addDomListener(window, 'load', initialize);

